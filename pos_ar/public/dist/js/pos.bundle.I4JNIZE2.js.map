{
  "version": 3,
  "sources": ["../../../../../apps/pos_ar/pos_ar/pos_ar/page/pos/posController.js", "../../../../../apps/pos_ar/pos_ar/pos_ar/page/pos/pos_item_selector.js", "../../../../../apps/pos_ar/pos_ar/pos_ar/page/pos/pos_customer_box.js", "../../../../../apps/pos_ar/pos_ar/pos_ar/page/pos/pos_selected_item_cart.js", "../../../../../apps/pos_ar/pos_ar/pos_ar/page/pos/pos_item_details.js", "../../../../../apps/pos_ar/pos_ar/pos_ar/page/pos/pos_payment_cart.js", "../../../../../apps/pos_ar/pos_ar/pos_ar/page/pos/sw.js"],
  "sourcesContent": ["\n\npos_ar.PointOfSale.Controller = class {\n        constructor(wrapper) {\n\t\t//principales variable\n                this.wrapper = $(wrapper).find(\".layout-main-section\");\n                this.page    = wrapper.page ;\n\n\t\t//logic variable\n                this.customersList     = []\n                this.itemGroupList     = []\n                this.itemList          = []\n                this.itemPrices        = []\n                this.priceLists        = []\n                this.selectedItemMaps  = new Map([\n\t\t\t\t\t\t\t[\"C1\" , new Map()]\n\t\t\t\t\t\t])\n                this.warehouseList     = []\n                this.PosProfileList    = []\n                this.binList           = []\n\n                this.selectedItem          = {}\n                this.selectedField         = {}\n                this.selectedTab           = {\"tabName\" : \"C1\"}\n\t\tthis.selectedPaymentMethod = {\"methodName\" : \"\"}\n\n\n\n\t\t//sell invoice\n\t\tthis.sellInvoices = new Map();\n\n                this.start_app();\n        }\n\n\t async start_app(){\n\t\tawait  this.prepare_app_defaults();\n\t\tthis.prepare_container();\n                this.prepare_components();\n\t\tthis.setListeners();\n\t\tthis.checkServiceWorker()\n\t}\n\n        async prepare_app_defaults(){\n                this.customersList  = await this.fetchCustomers()\n                this.itemGroupList  = await this.fetchItemGroups()\n                this.itemList       = await this.fetchItems()\n                this.itemPrices     = await this.fetchItemPrice()\n                this.priceLists     = await this.fetchPriceList()\n                this.warehouseList  = await this.fetchWarehouseList()\n                this.PosProfileList = await this.fetchPosProfileList()\n                this.binList        = await this.fetchBinList()\n\n                console.log(\"customersList => \" , this.customersList )\n                console.log(\"itemGroupList => \" , this.itemGroupList )\n                console.log(\"itemList      => \" , this.itemList      )\n                console.log(\"itemPrices    => \" , this.itemPrices    )\n                console.log(\"priceLists    => \" , this.priceLists    )\n                console.log(\"warehouseList => \" , this.warehouseList )\n                console.log(\"POSProfileList => \", this.PosProfileList)\n                console.log(\"bin list       => \", this.binList       )\n        }\n\n\n        /***********************  ui ******************************************/\n\n        prepare_container(){\n                //append css styles\n                this.wrapper.append('<link rel=\"stylesheet\" type=\"text/css\" href=\"/assets/pos_ar/css/selectorBox.css\">')\n                this.wrapper.append('<link rel=\"stylesheet\" type=\"text/css\" href=\"/assets/pos_ar/css/itemDetailsCart.css\">')\n                this.wrapper.append('<link rel=\"stylesheet\" type=\"text/css\" href=\"/assets/pos_ar/css/paymentMethodCart.css\">')\n                this.wrapper.append('<link rel=\"stylesheet\" type=\"text/css\" href=\"/assets/pos_ar/css/customerBox.css\">')\n                this.wrapper.append('<link rel=\"stylesheet\" type=\"text/css\" href=\"/assets/pos_ar/css/cartBox.css\">')\n\n                this.wrapper.append('<div id=\"MainContainer\" class=\"rowBox\"></div>');\n\n                this.$components_wrapper = this.wrapper.find(\"#MainContainer\");\n        }\n\n        prepare_components(){\n                this.set_right_and_left_sections();\n                this.init_item_selector();\n\t\tthis.init_customer_box();\n\t\tthis.init_selected_item();\n\t\tthis.init_item_details();\n                this.init_paymentCart();\n        }\n\n        set_right_and_left_sections(){\n                this.$components_wrapper.append('<div id=\"LeftSection\" class=\"columnBox\"></div>')\n                this.$components_wrapper.append('<div id=\"RightSection\" class=\"columnBox\"></div>')\n\n\t\tthis.$rightSection = this.$components_wrapper.find(\"#RightSection\")\n\t\tthis.$leftSection  = this.$components_wrapper.find(\"#LeftSection\")\n\n        }\n\n        init_item_selector(){\n\t\tconsole.log(\"item list from controller : \" , this.itemList)\n                this.item_selector = new pos_ar.PointOfSale.pos_item_selector(\n\t\t\t\t\t\tthis.$leftSection  ,\n\t\t\t\t\t\tthis.itemList      ,\n\t\t\t\t\t\tthis.itemGroupList ,\n\t\t\t\t\t\tthis.itemPrices    ,\n\t\t\t\t\t\titem => { this.itemClick_selector(item)  }\n\t\t\t\t\t)\n\t}\n\n\tinit_customer_box(){\n\t\tthis.customer_box  = new pos_ar.PointOfSale.pos_customer_box(\n\t\t\t\t\t\t\t\t\tthis.$rightSection ,\n\t\t\t\t\t\t\t\t\tthis.customersList ,\n\t\t\t\t\t\t\t\t\tthis.onSync.bind(this)\n\t\t\t\t\t\t\t\t\t)\n\t}\n        init_selected_item(){\n\t\tthis.selected_item_cart  = new pos_ar.PointOfSale.pos_selected_item_cart(\n\t\t\t\t\t\t\t\t\tthis.$rightSection ,\n\t\t\t\t\t\t\t\t\tthis.selectedItemMaps,\n\t\t\t\t\t\t\t\t\tthis.selectedTab  ,\n\t\t\t\t\t\t\t\t\tthis.selectedItem ,\n\t\t\t\t\t\t\t\t\tthis.selectedField,\n\t\t\t\t\t\t\t\t\titem => {\n\t\t\t\t\t\t\t\t\t\tthis.onSelectedItemClick(item)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttab =>{\n\t\t\t\t\t\t\t\t\t\tthis.onClose_details();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t(action , key) =>{\n\t\t\t\t\t\t\t\t\t\tthis.onKeyPressed(action , key)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tthis.onCheckout.bind(this)\n\t\t\t\t\t\t\t\t\t)\n\t}\n\n\tinit_item_details(){\n\t\tconsole.log(\"warehouse ==> \" , this.PosProfileList[0].warehouse)\n\t\tthis.item_details = new pos_ar.PointOfSale.pos_item_details(\n\t\t\t\t\t\t\t\t\tthis.$leftSection,\n\t\t\t\t\t\t\t\t\tthis.PosProfileList[0].warehouse,\n\t\t\t\t\t\t\t\t\tthis.priceLists,\n\t\t\t\t\t\t\t\t\tthis.itemPrices,\n\t\t\t\t\t\t\t\t\tthis.binList,\n\t\t\t\t\t\t\t\t\tthis.selectedItem,\n\t\t\t\t\t\t\t\t\tthis.selectedField,\n\t\t\t\t\t\t\t\t\t(event , field , value) =>{\n\t\t\t\t\t\t\t\t\t\tthis.onInput(event , field , value);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tthis.onClose_details.bind(this)\n\t\t\t\t\t\t\t\t)\n\t}\n\n        init_paymentCart(){\n\t\tconsole.log(\"im heeeeeeeeeeeeer @#$%^&*(*&^%$##$%^&*()^%$#@\")\n\t\tthis.payment_cart = new pos_ar.PointOfSale.pos_payment_cart(\n\t\t\t\t\t\t\t\t\tthis.$leftSection,\n\t\t\t\t\t\t\t\t\tthis.selectedItemMaps,\n\t\t\t\t\t\t\t\t\tthis.selectedTab,\n\t\t\t\t\t\t\t\t\tthis.selectedPaymentMethod,\n\t\t\t\t\t\t\t\t\tthis.onClose_payment_cart.bind(this),\n\t\t\t\t\t\t\t\t\tthis.onCompleteOrder.bind(this)\n\t\t\t\t\t\t\t\t)\n        }\n\n\n\n        /*********************  callbacks functions ******************************/\n\n\titemClick_selector(item){\n\n\t\tconst itemCloned = { ...item }\n\n\t\tconsole.log(\"old ===> \" , this.selectedItemMaps )\n\n\t\tconsole.log(\"updated ===> \" , this.selectedItemMaps.get(this.selectedTab.tabName).has(itemCloned.name) )\n\n\n\t\tif(!this.selectedItemMaps.get(this.selectedTab.tabName).has(itemCloned.name)){\n\t\t\titemCloned.quantity = 1 ;\n\t\t\titemCloned.amount   = this.getItemPrice(itemCloned.name);\n\t\t\tthis.selectedItemMaps.get(this.selectedTab.tabName).set( itemCloned.name , itemCloned )\n\t\t}\n\t\telse{\n\t\t\tconst existingItem = this.selectedItemMaps.get(this.selectedTab.tabName).get(itemCloned.name);\n\t\t\tconsole.log(\"quantity ===> \" , existingItem.quantity);\n\t\t\texistingItem.quantity += 1 ;\n\t\t\tthis.selectedItemMaps.get(this.selectedTab.tabName).set( itemCloned.name , existingItem);\n\t\t}\n\n\n\t\tconsole.log(\"updated ===> \" , this.selectedItemMaps )\n\n\n\t\tthis.selected_item_cart.calculateNetTotal();\n\t\tthis.selected_item_cart.calculateQnatity();\n\t\tthis.selected_item_cart.calculateGrandTotal();\n\t\tthis.selected_item_cart.refreshSelectedItem();\n\n\n\t}\n\n\tonSelectedItemClick(item){\n\n\t\tObject.assign(this.selectedItem , item)\n\n\n\t\t//show\n\t\tthis.item_details.show_cart();\n\t\tthis.selected_item_cart.showKeyboard();\n\n\t\t//close\n\t\tthis.item_selector.hideCart();\n\t\tthis.payment_cart.hideCart();\n\n\t\t//change display\n\t\tthis.selected_item_cart.setKeyboardOrientation(\"landscape\");\n\n\n\t\t//refresh data\n\t\tthis.item_details.refreshDate(item);\n\n\t}\n\n\tonCheckout(){\n\t\tconsole.log(\"here we are on callback 02 \" , this.item_details)\n\n\t\t//show\n\t\tthis.payment_cart.showCart();\n\n\t\t//hide\n\t\tthis.item_selector.hideCart();\n\t\tthis.item_details.hide_cart();\n\n\t\t//change displayk\n\t\tthis.payment_cart.calculateGrandTotal()\n\t\tthis.selected_item_cart.setKeyboardOrientation(\"landscape\");\n\t\tthis.selected_item_cart.cleanHeighlight();\n\t\tthis.selected_item_cart.showKeyboard();\n\n\t}\n\n\tonClose_details(){\n\t\tconsole.log(\"onClose callback 002\")\n\n\t\t//show\n\t\tthis.item_selector.showCart();\n\n\t\t//hide\n\t\tthis.payment_cart.hideCart();\n\t\tthis.item_details.hide_cart();\n\t\tthis.selected_item_cart.hideKeyboard();\n\n\t\t//change display\n\t\tthis.selected_item_cart.setKeyboardOrientation(\"portrait\");\n\t\tthis.selected_item_cart.cleanHeighlight();\n\n\t}\n\n\tonClose_payment_cart(){\n\n\t\t//show\n\t\tthis.item_selector.showCart();\n\n\t\t//hide\n\t\tthis.item_details.hide_cart();\n\t\tthis.payment_cart.hideCart();\n\n\t\t//update ui\n\t\tthis.selected_item_cart.setKeyboardOrientation(\"portrait\");\n\t\tthis.selected_item_cart.cleanHeighlight();\n\t\tthis.selected_item_cart.hideKeyboard()\n\n\t}\n\n\n\tonInput( event , field , value){\n\n\t\tif(event == \"focus\" || event == \"blur\"){\n\t\t\tif(event == \"focus\")\n\t\t\t\tObject.assign(this.selectedField , {field_name : field})\n\t\t\tif(event == \"blur\")\n\t\t\t\tObject.assign(this.selectedField , {field_name : null})\n\n\t\t\tthis.item_details.makeSelectedFieldHighlighted()\n\t\t\tthis.selected_item_cart.makeSelectedButtonHighlighted();\n\n\t\t\treturn;\n\t\t}\n\n\n\t\tif( field ==  \"quantity\" ){\n\t\t\tthis.selectedItem.quantity = value;\n\t\t\tthis.selectedItemMaps.get(this.selectedTab.tabName).set( this.selectedItem.name , Object.assign({},this.selectedItem) )\n\t\t\t//redrawing\n\t\t\tthis.selected_item_cart.refreshSelectedItem();\n\t\t}\n\t\telse if( field ==  \"rate\" ){\n\t\t\tthis.selectedItem.amount = value;\n\t\t\tthis.selectedItemMaps.get(this.selectedTab.tabName).set( this.selectedItem.name , Object.assign({},this.selectedItem)  )\n\t\t\t//redrawing\n\t\t\tthis.selected_item_cart.refreshSelectedItem();\n\t\t}\n\t\telse if( field == \"\"){\n\t\t\t\n\t\t}\n\n\t}\n\n\tonKeyPressed( action  , key){\n\t\tif(action == \"quantity\"){\n\t\t\tthis.item_details.requestFocus(\"quantity\")\n\t\t}\n\t\telse if(action == \"rate\"){\n\t\t\tthis.item_details.requestFocus(\"rate\")\n\t\t}\n\t\telse if(action == \"discount\"){\n\t\t\tthis.item_details.requestFocus(\"discount\")\n\t\t}\n\t\telse if(action == \"remove\"){\n\t\t\tthis.selectedItemMaps.get(this.selectedTab.tabName).delete(this.selectedItem.name)\n\t\t\tthis.selected_item_cart.refreshSelectedItem();\n\t\t}\n\t\telse if(action == \"addToField\"){\n\t\t\tthis.item_details.addToField(this.selectedField.field_name , key)\n\t\t}\n\t}\n\n\n\tonCompleteOrder(){\n\n\t\tlet items = []\n\n\t\tthis.selectedItemMaps.get(this.selectedTab.tabName).forEach((value,key) =>{\n\t\t\tconsole.log(\"the key : \" , key , \" value : \" , value)\n\t\t\tlet newItem = {\n\t\t\t\t'item_name' : value.name,\n\t\t\t\t'rate'      : value.amount,\n\t\t\t\t'qty'       : value.quantity,\n\t\t\t\t'income_account' : this.PosProfileList[0].income_account\n\t\t\t}\n\n\t\t\titems.push(newItem)\n\t\t})\n\n\t\tif(items.length ==0)\n\t\t\treturn\n\n\t\tthis.sellInvoices.set(\n\t\t\t\tthis.selectedTab.tabName , {\n\t\t\t\t\"customer\"   : this.customersList[0].name,\n\t\t\t\t\"pos_profile\": this.PosProfileList[0].name,\n\t\t\t\t\"items\"      : items\n\t\t});\n\n\t\tthis.selectedItemMaps.delete(this.selectedTab.tabName)\n\n\t\t//tabs\n\t\tlet tabs = Array.from(this.selectedItemMaps.keys())\n\t\tconsole.log(\"log ==>\" , tabs)\n\n\t\t//if there are still tabs it will just set the first as selected\n\t\t//otherwise it will create one using the selected_item_cart class and set it as selected\n\t\tif(tabs.length > 0){\n\t\t\tthis.selectedTab.tabName = tabs[0]\n\t\t\tthis.selected_item_cart.refreshTabs();\n\t\t\tthis.selected_item_cart.refreshSelectedItem();\n\t\t}\n\t\telse{\n\t\t\tthis.selected_item_cart.createNewTab();\n\t\t}\n\n\t\tthis.onClose_payment_cart()\n\n\t\tconsole.log(\"posInvoice ==> \" , this.sellInvoices);\n\t}\n\n\tonSync(){\n\n\t\t//calculate amount\n\t\tlet all_tabs = Array.from(this.sellInvoices.keys())\n\n\t\tif(all_tabs.length == 0){\n\t\t\tconsole.log(\"here\")\n\t\t\treturn;\n\t\t\tconsole.log(\"here acheived\")\n\n\t\t}\n\t\ttry{\n\t\t\t//progress\n\t\t\tfrappe.show_progress('Syncing Invoices...' , 0 , all_tabs.length , 'syncing')\n\n\t\t\tlet counter = 0 ;\n\n\t\t\tall_tabs.forEach(tab =>{\n\t\t\t\t//calculate the paid_amount\n\t\t\t\tlet paid_amount = 0 ;\n\t\t\t\tthis.sellInvoices.get(tab).items.forEach(item =>{\n\t\t\t\t\tpaid_amount += item.rate * item.qty\n\t\t\t\t})\n\n\t\t\t\tconsole.log(\"paid\" , paid_amount)\n\n\t\t\t\tfrappe.db.insert({\n\t\t\t\t\t'doctype'     : \"Sales Invoice\",\n\t\t\t\t\t'customer'    : this.sellInvoices.get(tab).customer,\n\t\t\t\t\t'pos_profile' : this.sellInvoices.get(tab).pos_profile,\n\t\t\t\t\t'items'       : this.sellInvoices.get(tab).items,\n\t\t\t\t\t'paid_amount' : paid_amount,\n\t\t\t\t\t'outstanding_amount' : 0,\n\t\t\t\t\t'status'      : \"Paid\",\n\t\t\t\t\t'docstatus'   : 1\n\t\t\t\t}).then(r => {\n\t\t\t\t\tconsole.log(r , \"name=====,.,.,.>>>\" , r.name)\n\t\t\t\t\tfrappe.db.insert({\n\t\t\t\t\t\t'doctype'         : \"Payment Entry\",\n\t\t\t\t\t\t'payment_type'    : 'Receive',\n\t\t\t\t\t\t'party_type'      : 'Customer',\n\t\t\t\t\t\t'party'           : this.sellInvoices.get(tab).customer,\n\t\t\t\t\t\t'paid_amount'     : paid_amount,\n\t\t\t\t\t\t'received_amount' : paid_amount,\n\t\t\t\t\t\t'docstatus'       : 1,\n\t\t\t\t\t\t'paid_to'         : 'Cash - MS',\n\t\t\t\t\t\t'references'      : [{\n\t\t\t\t\t\t\t'reference_doctype' : 'Sales Invoice',\n\t\t\t\t\t\t\t'reference_name'    : r.name,\n\t\t\t\t\t\t\t'total_amount'      : r.paid_amount,\n\t\t\t\t\t\t\t'outstanding_amount': 0,\n\t\t\t\t\t\t\t'allocated_amount'  : r.paid_amount\n\t\t\t\t\t\t}]\n\t\t\t\t\t}).then(result =>{\n\t\t\t\t\t\tcounter += 1 ;\n\t\t\t\t\t\tfrappe.show_progress('Syncing Invoices...' , counter , all_tabs.length , 'syncing')\n\t\t\t\t\t\tconsole.log(\"final res : \" , result)\n\t\t\t\t\t\tif(counter == all_tabs.length){\n\t\t\t\t\t\t\tfrappe.hide_progress();\n\t\t\t\t\t\t\tfrappe.show_alert({\n\t\t\t\t\t\t\t\t\tmessage:__('Hi, Sync process is done.'),\n\t\t\t\t\t\t\t\t\tindicator:'green'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t5);\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(err =>{\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}).catch(err =>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\n\t\t\t})\n\t\t}\n\t\tcatch(err){\n\t\t\tconsole.log(\"err ==> \" , err)\n\t\t}\n\n\t\tconsole.log(\"we are here now\")\n\t}\n\n\t/****************************  listeners *******************************/\n\n\tsetListeners(){\n\t\tconsole.log(\"test (window) ==> \" , window)\n\t\twindow.addEventListener('offline' , function(){\n\t\t\tfrappe.msgprint('you lose the connection (offline mode)')\n\t\t})\n\n\t\twindow.addEventListener('online' , function(){\n\t\t\tfrappe.msgprint('the connection is back (online mode)')\n\t\t})\n\t}\n\t/*****************************  tools  **********************************/\n\tgetItemPrice(itemId){\n\t\tconst price = this.itemPrices.find(itemPrice => itemPrice.item_code == itemId)\n\t\treturn price ? price.price_list_rate  : 0\n        }\n\n\tcheckServiceWorker(){\n\n\t\t// Check if service workers are supported\n\t\tif (!('serviceWorker' in navigator)) {\n\t\t\tconsole.log(\"Service Worker isn't supported!\");\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.log(\"Service Worker supported\");\n\n\t\t// Register the service worker on window load\n \t\twindow.addEventListener('DOMContentLoaded', () => {\n\t\tconsole.log(\"Window loaded!\");\n\t\tnavigator.serviceWorker\n\t\t\t.register('./sw.js')\n\t\t\t.then(reg => console.log(\"Service Worker registered successfully.\"))\n\t\t\t.catch(err => console.log(`Service Worker registration failed: ${err}`));\n\t\t});\n\n\n\t\tthis.sw = new pos_ar.PointOfSale.Sw()\n\n\t\t// Additionally, check if DOM is already loaded\n\t\tif (document.readyState === 'complete') {\n\t\t\tconsole.log(\"DOM was already loaded\");\n\t\t\tnavigator.serviceWorker\n\t\t\t\t.register('../assets/pos_ar/public/js/sw.js')\n\t\t\t\t.then(reg => console.log(\"Service Worker registered successfully.\"))\n\t\t\t\t.catch(err => console.log(`Service Worker registration failed: ${err}`));\n\t\t}\n\n\n\t}\n\n        /*********************  get data functions ******************************/\n\n\n        async  fetchCustomers() {\n                try {\n                        return await frappe.db.get_list('Customer', {\n                                fields: ['name', 'customer_name' ],\n                                filters: {}\n                        })\n                } catch (error) {\n                        console.error('Error fetching customers:', error);\n                        return []\n                }\n        }\n\n        async fetchItemGroups() {\n                try {\n                        return await frappe.db.get_list('Item Group', {\n                                fields: ['name', 'item_group_name' , 'parent_item_group' , 'is_group' ],\n                                filters: {}\n                        })\n                } catch (error) {\n                        console.error('Error fetching Item Group :', error);\n                        return []\n                }\n        }\n\n        async fetchItems() {\n                try {\n                        return await frappe.db.get_list('Item', {\n                                fields: ['name', 'item_name' , 'image' , 'item_group' , 'stock_uom' ],\n                                filters: {}\n                        })\n                } catch (error) {\n                        console.error('Error fetching Item Group :', error);\n                        return []\n                }\n        }\n\n        async fetchItemPrice() {\n                try {\n                        return await frappe.db.get_list('Item Price', {\n                                fields: ['name', 'item_code' , 'item_name' , 'price_list', 'price_list_rate' ],\n                                filters: { price_list : \"Standard Selling\"}\n                        })\n                } catch (error) {\n                        console.error('Error fetching Item Group :', error);\n                        return []\n                }\n        }\n\n        async fetchPriceList() {\n                try {\n                        return await frappe.db.get_list('Price List', {\n                                fields: ['name', 'price_list_name' , 'currency' ],\n                                filters: {selling : 1 }\n                       })\n                } catch (error) {\n                        console.error('Error fetching Item Group :', error);\n                        return []\n                }\n        }\n\n\n        async fetchWarehouseList(){\n                try{\n                        return await frappe.db.get_list('Warehouse' , {\n                                fields  : ['name' , 'warehouse_name'],\n                                filters : {}\n                        })\n                }\n                catch(error){\n                        console.error('Error fetching Warehouse list : ' , error)\n                        return [];\n                }\n        }\n\n        async fetchPosProfileList(){\n                try{\n                        return await frappe.db.get_list('POS Profile' , {\n                                fields  : ['name' , 'warehouse' , 'income_account'],\n                                filters : {}\n                        })\n                }\n                catch(error){\n                        console.error('Error fetching Warehouse list : ' , error)\n                        return [];\n                }\n        }\n\n\n        async fetchBinList(){\n                try{\n                        return await frappe.db.get_list('Bin' , {\n                                fields  : ['actual_qty' , 'item_code' , 'warehouse'],\n                                filters : {}\n                        })\n                }\n                catch(error){\n                        console.error('Error fetching Bin list : ' , error)\n                        return [];\n                }\n        }\n\n};\n", "\n\npos_ar.PointOfSale.pos_item_selector = class {\n\n\tconstructor(\n\t\twrapper ,\n\t\titem_list ,\n\t\titem_group_list ,\n\t\titem_prices,\n\t\tonItemClick\n\t){\n\t\tthis.wrapper     = wrapper;\n\t\tthis.item_list   = item_list;\n\t\tthis.item_group_list = item_group_list;\n\t\tthis.item_prices = item_prices;\n\t\tthis.on_item_click = onItemClick;\n\n\n\t\t//class functions invocation\n\t\tthis.start_item_selector();\n        }\n\n\n\tstart_item_selector(){\n\t\tthis.prepare_select_box();\n\t\tthis.setItemGroupsInList();\n\t\tthis.setItemInFlow(this.getItemByItemGroup(\"\"))\n\t\tthis.setListeners();\n\t}\n\n\n\n\t/***********************  ui  functions  ***************************************/\n\tprepare_select_box(){\n\t\tthis.wrapper.append('<div id=\"SelectorBox\" class=\"columnBox\"></div>')\n\n\t\tthis.selectorBox  = this.wrapper.find(\"#SelectorBox\");\n\t\tthis.selectorBox.append('<div id=\"selectorBoxHeader\" class=\"rowBox header\"></div>')\n\n\t\tthis.header       = this.selectorBox.find(\"#selectorBoxHeader\");\n\t\tthis.header.append('<h4 class=\"CartTitle\">Items</h4>')\n\t\tthis.header.append('<div id=\"inputsBox\" class=\"rowBox align_center\"></div>')\n\n\t\tthis.inputBox     = this.header.find(\"#inputsBox\");\n\t\tthis.inputBox.append('<input type=\"text\" autocomplete=\"off\"  maxlength=\"140\" placeholder=\"Search by item code, serial number or barcode\" id=\"ItemInput\" name=\"item\" placeHolder=\"Enter the customer\">')\n\t\tthis.inputBox.append('<input list=\"ItemGroupList\"  id=\"ItemGroupInput\" name=\"ItemGroup\" placeHolder=\"Item Group\">')\n\t\tthis.inputBox.append('<datalist id=\"ItemGroupList\"></datalist>')\n\n\t\tthis.itemGroupList = this.inputBox.find(\"#ItemGroupList\");\n\t\tthis.itemGroupList.append('<option>fetching Item Groups ...</option>')\n\n\t\tthis.selectorBox.append('<div id=\"itemsContainer\" class=\"rowBox row_wrap\"></div>')\n\t\tthis.itemsContainer = this.selectorBox.find('#itemsContainer')\n\t}\n\n\n\tsetItemGroupsInList(){\n\t\tconst groupItemList_html = document.getElementById(\"ItemGroupList\");\n\t\tgroupItemList_html.innerHTML = \"\" ;\n\t\tthis.item_group_list.forEach(group_item =>{\n\t\t\tconst option = document.createElement(\"option\");\n\t\t\toption.value = group_item.name;\n\t\t\toption.textContent = group_item.customer_name;\n\t\t\tgroupItemList_html.appendChild(option);\n\t\t})\n\t}\n\n\tsetItemInFlow(filtered_item_list){\n        \tconst itemsContainer_html = document.getElementById(\"itemsContainer\");\n        \titemsContainer_html.innerHTML = \"\";\n        \tfiltered_item_list.forEach(item =>{\n                \tconst itemBox = document.createElement(\"div\");\n                \titemBox.classList.add(\"itemBox\");\n                \titemBox.classList.add(\"columnBox\");\n                \titemBox.classList.add(\"C_A_Center\");\n\n                \titemBox.addEventListener('click' , event => {\n\t\t\t\tthis.on_item_click(item);\n                \t});\n\n\n                \tif(item.image){\n                        \tconst itemImage = document.createElement(\"img\");\n                        \titemImage.classList.add(\"itemImage\");\n                        \titemImage.src = item.image\n                        \titemBox.appendChild(itemImage);\n                \t}\n                \telse{\n                        \tconst itemImageHolder = document.createElement(\"div\");\n                        \titemImageHolder.classList.add(\"itemImage\");\n                        \titemImageHolder.classList.add(\"rowBox\");\n                        \titemImageHolder.classList.add(\"centerItem\");\n                        \tconst firstLatter = document.createElement(\"h1\");\n                        \tfirstLatter.textContent = item.name[0];\n                        \tfirstLatter.style.color = \"#707070\";\n                        \titemImageHolder.appendChild(firstLatter);\n                        \titemBox.appendChild(itemImageHolder);\n                \t}\n                \tconst itemName = document.createElement(\"div\");\n                \titemName.textContent = item.name ;\n                \titemName.classList.add(\"itemTitle\");\n                \titemBox.appendChild(itemName);\n\n\n                \tconst price = document.createElement(\"div\");\n                \tprice.classList.add(\"itemPrice\");\n                \tprice.textContent = this.getItemPrice(item.name) + \" DA\";\n                \titemBox.appendChild(price);\n\n\n                \titemsContainer_html.appendChild(itemBox);\n        \t});\n\n\t}\n\n\t//show and hide\n\tshowCart(){\n\t\tthis.selectorBox.css(\"display\" , \"flex\")\n\t}\n\n\thideCart(){\n\t\tthis.selectorBox.css(\"display\" , \"none\")\n\t}\n\n\t//**************** set listeners method ****************************//\n\tsetListeners(){\n\t\tconst groupItemListInput = document.getElementById(\"ItemGroupInput\");\n                groupItemListInput.addEventListener('input' , (even)=>{\n\t\t\tthis.setItemInFlow(this.getItemByItemGroup(event.target.value))\n\t\t})\n\t}\n\n\t//**************** tools method ****************************//\n\tgetItemByItemGroup(item_group){\n\n\n\t\tlet groups = [];\n\n\t\tlet getChild = (grp)=>{\n\t\t\tgroups.push(grp);\n\t\t\tthis.item_group_list.forEach(g=>{\n\t\t\t\tif(g.parent_item_group == grp){\n\t\t\t\t\tgroups.push(g.name)\n\t\t\t\t\tif(g.is_group){\n\t\t\t\t\t\tgetChild(g.name)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t};\n\n\n\t\tgetChild(item_group);\n\n\n\t\tlet filtredItemList = [];\n\n\t\tlet getFiltredItems = (group)=>{\n\t\t\tthis.item_list.forEach(item =>{\n\t\t\t\tif(item.item_group == group){\n\t\t\t\t\tfiltredItemList.push(item);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\n\t\tgroups.forEach(group =>{\n\t\t\tgetFiltredItems(group);\n\t\t})\n\n\n\t\treturn filtredItemList;\n\t}\n\n\n\tgetItemPrice(itemId){\n\t\tconst price = this.item_prices.find(itemPrice => itemPrice.item_code == itemId)\n\t\treturn price ? price.price_list_rate  : 0\n\t}\n\n}\n", "\npos_ar.PointOfSale.pos_customer_box = class{\n\n\tconstructor(\n\t\twrapper,\n\t\tcustomersList,\n\t\tonSync\n\t){\n\t\tthis.wrapper        = wrapper ;\n\t\tthis.customers_list = customersList ;\n\t\tthis.on_sync        = onSync ;\n\t\t//local\n\t\tthis.online  = true    ;\n\n\t\tthis.start_work();\n\t}\n\n\n\n\tstart_work(){\n\t\tthis.prepare_customer_box();\n\t\tthis.setCustomersInList();\n\t\tthis.setListeners();\n\t}\n\n\tprepare_customer_box(){\n\t\tthis.wrapper.append('<div id=\"CustomerBox\" class=\"rowBox align_center\">');\n\n\n\t\tthis.customerBox = this.wrapper.find('#CustomerBox');\n\t\tthis.customerBox.append('<input list=\"CustomerList\"  id=\"CustomerInput\" name=\"Customer\" placeHolder=\"Enter the customer\">')\n\t\tthis.customerBox.append('<datalist id=\"CustomerList\"></datalist>')\n\t\tthis.customerBox.append('<div id=\"syncBtn\">Sync</div>')\n\t\tthis.customerBox.append('<div id=\"toggleButtonLabel\">Offline Mode </div>')\n\t\tthis.customerBox.append('<div id=\"toggleButton\" class=\"rowBox align_center\" > <div id=\"toggleButtonBall\" ></div>  </div>')\n\n\t}\n\n\n\tsetCustomersInList(){\n\n\t\tconst customerList_html = document.getElementById(\"CustomerList\");\n\t\tcustomerList_html.innerHTML = \"\" ;\n\n\t\tthis.customers_list.forEach(customer =>{\n\t\t\tconst option = document.createElement(\"option\");\n\t\t\toption.value = customer.name;\n\t\t\toption.textContent = customer.customer_name;\n\t\t\tcustomerList_html.appendChild(option);\n\t\t})\n\t}\n\n\tsetListeners(){\n\n\t\tthis.customerBox.find('#toggleButton').on('click' , (event)=>{\n\t\t\tthis.online = !this.online\n\n\t\t\tif(this.online){\n\t\t\t\tconsole.log(this.online)\n\t\t\t\tthis.customerBox.find('#toggleButtonBall').css('left' , '0px')\n\t\t\t\tthis.customerBox.find('#toggleButtonBall').css('background' , '#d0d0d0')\n\t\t\t\tthis.customerBox.find('#toggleButton').css('border' , '2px solid #cccccc')\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(this.online)\n\n\t\t\t\tthis.customerBox.find('#toggleButtonBall').css('left' , '15px')\n\t\t\t\tthis.customerBox.find('#toggleButtonBall').css('background' , '#ac6500')\n\t\t\t\tthis.customerBox.find('#toggleButton').css('border' , '2px solid  #6a3e00')\n\n\t\t\t}\n\t\t})\n\n\t\tthis.customerBox.find('#syncBtn').on('click' , (event)=>{\n\t\t\tthis.on_sync();\n\t\t})\n\n\t}\n\n}\n", "\npos_ar.PointOfSale.pos_selected_item_cart = class{\n\n\n\tconstructor(\n\t\twrapper          ,\n\t\tselectedItemMaps ,\n\t\tselectedTab      ,\n\t\tselectedItem     ,\n\t\tselectedField    ,\n\t\tonSelectedItemClick,\n\t\tonTabClick       ,\n\t\tonKeyPressed     ,\n\t\tonCheckoutClick  ,\n\t){\n\t\tthis.wrapper                 = wrapper;\n\t\tthis.selected_item_maps      = selectedItemMaps;\n\t\tthis.selected_tab            = selectedTab     ;\n\t\tthis.selected_item           = selectedItem    ;\n\t\tthis.selected_field          = selectedField   ;\n\t\tthis.on_key_pressed          = onKeyPressed    ;\n\t\tthis.on_checkout_click       = onCheckoutClick ;\n\t\tthis.on_selected_item_click  = onSelectedItemClick;\n\t\tthis.on_tab_click            = onTabClick      ;\n\n\n\t\tthis.counter = 1 ;\n\n\t\tthis.start_work();\n\t}\n\n\n\n\t// start the class function\n\tstart_work(){\n\t\tthis.prepare_selected_item_cart();\n\t\tthis.setButtonsListeners();\n\t\tthis.setListener()\n\t}\n\n\t/********************************* ui *****************************************/\n\n\tprepare_selected_item_cart(){\n\n\t\tthis.wrapper.append('<div id=\"tabs\"    class=\"rowBox\"><div id=\"tabs_container\" class=\"rowBox\"></div></div>')\n\t\tthis.wrapper.append('<div id=\"CartBox\" class=\"columnBox\"></div>')\n\n\n\t\tthis.tabs_bar       = this.wrapper.find(\"#tabs\")\n\t\tthis.tabs_container = this.tabs_bar.find('#tabs_container')\n\t\tthis.cartBox        = this.wrapper.find(\"#CartBox\")\n\n\n\t\tthis.tabs_container.append('<div class=\"tab selected\">C1</div>')\n\t\tthis.tabs_bar.append('<div id=\"addTabBtn\" class=\"tab unselected\">+</div>')\n\n\t\tthis.add_tab_button = this.tabs_bar.find('#addTabBtn')\n\n\t\tthis.cartBox.append('<div id=\"CartBoxTopBar\" class=\" rowBox align_center  row_sbtw\"><div>')\n\t\tthis.cartBox.append('<div id=\"cartHeader\" class=\"rowBox row_sbtw align_center\"></div>')\n\t\tthis.cartBox.append('<div id=\"selectedItemsContainer\" class=\"columnBox\"></div>')\n\t\tthis.cartBox.append('<div id=\"cartFooter\" class=\"columnBox\"></div>')\n\n\t\tthis.cartTopBar = this.cartBox.find('#CartBoxTopBar')\n\t\tthis.cartTopBar.append('<h4 class=\"CartTitle\">Item Cart</h4>')\n\t\tthis.cartTopBar.append('<div id=\"selectedItemsPriceListInput\"></div>')\n\n\t\tthis.priceListInput = this.cartTopBar.find(\"#selectedItemsPriceListInput\")\n\t\tthis.priceListInput.append('<input list=\"PriceList\"  id=\"PriceListInput\" name=\"PriceList\" placeHolder=\"Choice a Price list\">')\n\t\tthis.priceListInput.append(' <datalist id=\"PriceList\"></datalist>')\n\n\t\tthis.cartHeader = this.cartBox.find('#cartHeader')\n\t\tthis.cartHeader.append('<div><h6>Item</h6></div>')\n\t\tthis.cartHeader.append('<div id=\"cartHeaderTitles\" class=\"rowBox\"></div>')\n\n\t\tthis.cartHeaderTitles = this.cartHeader.find('#cartHeaderTitles')\n\t\tthis.cartHeaderTitles.append('<div id=\"quantityTitle\"><h6>Quantity</h6></div>')\n\t\tthis.cartHeaderTitles.append('<div id=\"amountTitle\">  <h6>Amount  </h6></div>')\n\n\t\tthis.selectedItemContainer = this.cartBox.find('#selectedItemsContainer')\n\n\n\n\n\t\tthis.cartFooter = this.cartBox.find('#cartFooter')\n\t\tthis.cartFooter.append('<div id=\"cartDetails\" class=\"columnBox\"></div>')\n\t\tthis.cartFooter.append('<div id=\"editSelectedItemCart\"></div>')\n\t\tthis.cartFooter.append('<button type=\"button\" id=\"checkoutBtn\"> Checkout </button>')\n\n\t\tthis.cartDetails = this.cartFooter.find('#cartDetails')\n\t\tthis.cartDetails.append('<div id=\"discount\" class=\"rowBox align_center row_sbtw\"></div>')\n\t\tthis.cartDetails.append('<div id=\"totalQuantity\" class=\"rowBox align_center row_sbtw\"></div>')\n\t\tthis.cartDetails.append('<div id=\"netTotal\" class=\"rowBox align_center row_sbtw\"></div>')\n\t\tthis.cartDetails.append('<div id=\"grandTotal\" class=\"rowBox align_center row_sbtw\"></div>')\n\n\t\tthis.discount      = this.cartDetails.find('#discount')\n\t\tthis.discount.append('<div id=\"addDiscountTitle\">Add Discount</div>')\n\t\tthis.discount.append('<div id=\"addDiscountValue\"></div>')\n\n\t\tthis.totalQuantity = this.cartDetails.find('#totalQuantity')\n\t\tthis.totalQuantity.append('<div id=\"totalQuantityTitle\">Total Quantity</div>')\n\t\tthis.totalQuantity.append('<div id=\"totalQuantityValue\">0</div>')\n\n\t\tthis.netTotal      = this.cartDetails.find('#netTotal')\n\t\tthis.netTotal.append('<div id=\"netTotalTitle\">Net Total</div>')\n\t\tthis.netTotal.append('<div id=\"netTotalValue\">0.00</div>')\n\n\t\tthis.grandTotal    = this.cartDetails.find('#grandTotal')\n\t\tthis.grandTotal.append('<div id=\"grandTotalTitle\">Grand Total</div>')\n\t\tthis.grandTotal.append('<div id=\"grandTotalValue\">0.00</div>')\n\n\t\tthis.editSelectedItem = this.cartFooter.find('#editSelectedItemCart')\n\t\tthis.editSelectedItem.append('<div class=\"grid-container\">')\n\n\t\tthis.buttonsContainer = this.editSelectedItem.find('.grid-container')\n\t\tthis.buttonsContainer.append('<button id=\"key_1\"        class=\"grid-item\">1</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_2\"        class=\"grid-item\">2</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_3\"        class=\"grid-item\">3</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_quantity\" class=\"grid-item\">Quantity</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_4\"        class=\"grid-item\">4</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_5\"        class=\"grid-item\">5</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_6\"        class=\"grid-item\">6</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_rate\"     class=\"grid-item\">Rate</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_7\"        class=\"grid-item\">7</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_8\"        class=\"grid-item\">8</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_9\"        class=\"grid-item\">9</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_discount\" class=\"grid-item\">Discount</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_point\"    class=\"grid-item\">.</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_0\"        class=\"grid-item\">0</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_delete\"   class=\"grid-item\">Delete</button>')\n\t\tthis.buttonsContainer.append('<button id=\"key_remove\"   class=\"grid-item\" style=\"color:red;font-weight:700;\">Remove</button>')\n\n\t\tthis.checkoutBtn = this.cartFooter.find('#checkoutBtn')\n\t\tthis.checkoutBtn.on('mousedown' , event =>{\n\t\t\tthis.on_checkout_click();\n\t\t})\n\t}\n\n\n\n\trefreshTabs(){\n\t\t//clear the tabs_container\n\t\tthis.tabs_container.empty()\n\n\t\tfor(let key of this.selected_item_maps.keys() ){\n\t\t\tif(key == this.selected_tab.tabName){\n\t\t\t\tthis.tabs_container.append(`<div class=\"tab selected\">${key}</div>`)\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.tabs_container.append(`<div class=\"tab\">${key}</div>`)\n\t\t\t}\n\t\t}\n\n\t\tthis.tabs_container.find(\".tab\").on('click' , (event)=>{\n\t\t\tconst clickedTab = $(event.target).text()\n\n\t\t\tthis.selected_tab.tabName = clickedTab\n\n\t\t\t//update UI\n\t\t\tthis.refreshTabs();\n\t\t\tthis.refreshSelectedItem();\n\t\t\tthis.calculateNetTotal();\n\t\t\tthis.calculateQnatity();\n\t\t\tthis.calculateGrandTotal();\n\n\t\t\tthis.on_tab_click(clickedTab);\n\n\t\t\tconsole.log(\"clicked tab ==> \" , clickedTab)\n\t\t})\n\t}\n\n\trefreshSelectedItem(){\n\n\n\t\tconst selectedItemsContainer = document.getElementById(\"selectedItemsContainer\");\n\t\tselectedItemsContainer.innerHTML = \"\";\n\n\t\tconsole.log(\"debuging \" , this.selected_tab)\n\t\tconsole.log(\"selected map \" , this.selected_item_maps)\n\n\t\tthis.selected_item_maps.get(this.selected_tab.tabName).forEach((item,itemId) =>{\n\t\t\tconst itemElement   = document.createElement(\"div\");\n\t\t\tconst leftGroup     = document.createElement(\"div\");\n\t\t\tconst rightGroup    = document.createElement(\"div\");\n\t\t\tconst itemName      = document.createElement(\"h5\") ;\n\t\t\tconst itemQuantity  = document.createElement(\"div\") ;\n\t\t\tconst itemPrice     = document.createElement(\"div\") ;\n\n\t\t\t//image\n\t\t\t//check if there is an image or not\n\t\t\tif(item.image){\n\t\t\t\tconst itemImage   = document.createElement(\"img\");\n\t                        itemImage.src = item.image ;\n        \t                itemImage.classList.add(\"selectedItemImage\");\n                \t        leftGroup.appendChild(itemImage);\n\t\t\t}else{\n\t\t\t\tconst itemImageHolder = document.createElement(\"div\");\n\t\t\t\tconst itemImageLatter = document.createElement(\"div\");\n\n\t\t\t\titemImageHolder.classList.add(\"selectedItemImage\" , \"rowBox\" , \"centerItem\");\n\n\t\t\t\titemImageLatter.textContent = item.name[0]\n\t\t\t\titemImageHolder.appendChild(itemImageLatter);\n\t\t\t\tleftGroup.appendChild(itemImageHolder);\n\t\t\t}\n\n\n\t\t\t//name\n\t\t\titemName.textContent = item.name;\n\t\t\titemName.classList.add(\"selectedItemName\");\n\t\t\tleftGroup.appendChild(itemName);\n\n\t\t\t//quantity\n\t\t\titemQuantity.textContent = item.quantity\n\t\t\titemQuantity.classList.add(\"itemQuantity\");\n\t\t\trightGroup.appendChild(itemQuantity);\n\t\t\t//price\n\t\t\titemPrice.textContent = item.amount + \" DA\"\n\t\t\titemPrice.classList.add(\"itemPrice\");\n\t\t\trightGroup.appendChild(itemPrice);\n\n\t\t\t//leftGroup\n\t\t\tleftGroup.classList.add(\"rowBox\" , \"align_center\" , \"leftGroup\")\n\t\t\titemElement.appendChild(leftGroup);\n\n\t\t\t//rightGroup\n\t\t\trightGroup.classList.add(\"rowBox\" , \"align_center\" , \"rightGroup\")\n\t\t\titemElement.appendChild(rightGroup);\n\n\n\t\t\t//item\n\t\t\titemElement.classList.add(\"rowBox\" , \"align_center\" , \"row_sbtw\" , \"ItemElement\" , \"pointer\")\n\t\t\tif(itemId == this.selected_item.name)\n\t\t\t\titemElement.classList.add(\"selected\")\n\t\t\titemElement.addEventListener(\"click\" , event =>{\n\t\t\t\tconsole.log(\"we are click\")\n\t\t\t\tthis.makeItemHighlight(itemElement)\n\t\t\t\tthis.on_selected_item_click(item);\n\t\t\t})\n\n\t\t\tselectedItemsContainer.appendChild(itemElement);\n\n\t\t})\n\n\t\tthis.calculateNetTotal();\n\t\tthis.calculateQnatity();\n\t\tthis.calculateGrandTotal();\n\t}\n\n\tcreateNewTab(){\n\t\t\tthis.counter += 1 ;\n\t\t\tthis.selected_item_maps.set(`C${this.counter}` , new Map())\n\t\t\tthis.selected_tab.tabName = `C${this.counter}`\n\n\t\t\t//update UI\n\t\t\tthis.refreshTabs()\n\t\t\tthis.refreshSelectedItem()\n\t}\n\n\tshowKeyboard(){\n\t\tthis.editSelectedItem.css('display','flex')\n\t}\n\n\thideKeyboard(){\n\t\tthis.editSelectedItem.css('display','none')\n\t}\n\n\tsetKeyboardOrientation( orientation ){\n\n\t\tconst discount   = this.cartDetails.find('#discount')\n\t\tconst quantity   = this.cartDetails.find('#totalQuantity')\n\t\tconst netTotal   = this.cartDetails.find('#netTotal')\n\t\tconst grandTotal = this.cartDetails.find('#grandTotal')\n\n\t\tif(orientation == \"landscape\"){\n\t\t\tthis.cartDetails.css('display' , 'flex')\n\t\t\tthis.cartDetails.addClass('rowBox align_center')\n\t\t\tthis.cartDetails.removeClass('columnBox')\n\t\t\tdiscount.css('display' , 'none')\n\n\t\t\t//make the text smaller\n\t\t\tquantity.css('font-size' , 'smaller')\n\t\t\tnetTotal.css('font-size' , 'smaller')\n\t\t\tgrandTotal.css('font-size' , 'small')\n\t\t\tgrandTotal.css('font-weight' , '500')\n\t\t}\n\t\telse{\n\t\t\tthis.cartDetails.addClass('columnBox')\n\t\t\tthis.cartDetails.removeClass('rowBox')\n\t\t\tdiscount.css('display','flex')\n\n\t\t\t//reset\n\t\t\tquantity.css('font-size'   , 'small' )\n\t\t\tnetTotal.css('font-size'   , 'small' )\n\t\t\tgrandTotal.css('font-size' , 'larger')\n\t\t\tgrandTotal.css('font-weight' , '700' )\n\t\t}\n\t}\n\n\tmakeSelectedButtonHighlighted(){\n\t\tconst quantityButton = this.buttonsContainer.find('#key_quantity')\n\t\tconst rateButton     = this.buttonsContainer.find('#key_rate')\n\t\tconst discountButton = this.buttonsContainer.find('#key_discount')\n\n\t\tif(this.selected_field.field_name == \"quantity\"){\n\t\t\tquantityButton.addClass('selected')\n\t\t\trateButton.removeClass('selected')\n\t\t\tdiscountButton.removeClass('selected')\n\t\t}\n\t\telse if(this.selected_field.field_name == \"rate\"){\n\t\t\tquantityButton.removeClass('selected')\n\t\t\trateButton.addClass('selected')\n\t\t\tdiscountButton.removeClass('selected')\n\t\t}\n\t\telse if(this.selected_field.field_name == \"discount\"){\n\t\t\tquantityButton.removeClass('selected')\n\t\t\trateButton.removeClass('selected')\n\t\t\tdiscountButton.addClass('selected')\n\t\t}\n\t\telse{\n\t\t\tquantityButton.removeClass('selected')\n\t\t\trateButton.removeClass('selected')\n\t\t\tdiscountButton.removeClass('selected')\n\t\t}\n\n\t}\n\n\t/************************  set listeners  ***************************/\n\n\tsetButtonsListeners(){\n\t\tconst key_0        = this.buttonsContainer.find('#key_0')\n\t\tconst key_1        = this.buttonsContainer.find('#key_1')\n\t\tconst key_2        = this.buttonsContainer.find('#key_2')\n\t\tconst key_3        = this.buttonsContainer.find('#key_3')\n\t\tconst key_4        = this.buttonsContainer.find('#key_4')\n\t\tconst key_5        = this.buttonsContainer.find('#key_5')\n\t\tconst key_6        = this.buttonsContainer.find('#key_6')\n\t\tconst key_7        = this.buttonsContainer.find('#key_7')\n\t\tconst key_8        = this.buttonsContainer.find('#key_8')\n\t\tconst key_9        = this.buttonsContainer.find('#key_9')\n\t\tconst key_quantity = this.buttonsContainer.find('#key_quantity')\n\t\tconst key_discount = this.buttonsContainer.find('#key_discount')\n\t\tconst key_rate     = this.buttonsContainer.find('#key_rate')\n\t\tconst key_remove   = this.buttonsContainer.find('#key_remove')\n\t\tconst key_delete   = this.buttonsContainer.find('#key_delete')\n\t\tconst key_point    = this.buttonsContainer.find('#key_point')\n\n\t\tlet keys = [key_0 , key_1 , key_2 , key_3 , key_4 , key_5 , key_6 , key_7 , key_8 , key_9 , key_quantity , key_discount , key_rate , key_remove , key_delete , key_point]\n\n\n\t\tkeys.forEach(key =>{\n\t\t\tkey.on('mousedown' , (event)=>{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst keyContent = key.text();\n\n\t\t\t\tif(!isNaN(keyContent)){\n\t\t\t\t\tthis.on_key_pressed( \"addToField\" , key.text())\n\t\t\t\t}\n\t\t\t\telse if(keyContent == \".\"){\n\t\t\t\t\tthis.on_key_pressed( \"addToField\" , key.text())\n\t\t\t\t}\n\t\t\t\telse if(keyContent == \"Quantity\"){\n\t\t\t\t\tthis.on_key_pressed( \"quantity\" , null)\n\t\t\t\t}\n\t\t\t\telse if(keyContent == \"Rate\"){\n\t\t\t\t\tthis.on_key_pressed( \"rate\" , null)\n\t\t\t\t}\n\t\t\t\telse if(keyContent == \"Discount\"){\n\t\t\t\t\tthis.on_key_pressed( \"discount\" , null)\n\t\t\t\t}\n\t\t\t\telse if(keyContent == \"Remove\"){\n\t\t\t\t\tthis.on_key_pressed( \"remove\" , null)\n\t\t\t\t}\n\n\t\t\t})\n\t\t})\n\n\t}\n\n\tsetListener(){\n\n\t\tthis.add_tab_button.on('mousedown' , (event)=>{\n\t\t\tthis.counter += 1 ;\n\t\t\tthis.selected_item_maps.set(`C${this.counter}` , new Map())\n\t\t\tthis.selected_tab.tabName = `C${this.counter}`\n\n\t\t\t//update UI\n\t\t\tthis.refreshTabs()\n\t\t\tthis.refreshSelectedItem()\n\t\t\tthis.on_tab_click();\n\t\t\tconsole.log(\"add Tab new map ==> \" , this.selected_item_maps)\n\t\t})\n\n\t}\n\n\t/*************************  tools  **********************************/\n\n\n\tcalculateNetTotal(){\n\t\tlet netTotal = 0;\n\t\tthis.selected_item_maps.get(this.selected_tab.tabName).forEach((value,key) =>{\n\t\t\tnetTotal += value.quantity * value.amount\n\t\t})\n\n\t\tconst netTotal_HTML = document.getElementById(\"netTotalValue\");\n\t\tnetTotal_HTML.textContent = netTotal;\n\t}\n\n\tcalculateQnatity(){\n\t\tlet quantity = 0;\n\t\tthis.selected_item_maps.get(this.selected_tab.tabName).forEach((value,key) =>{\n\t\t\tquantity += value.quantity\n\t\t})\n\n\t\tconst totalQuantity_HTML = document.getElementById(\"totalQuantityValue\");\n\t\ttotalQuantity_HTML.textContent = quantity;\n\t}\n\n\tcalculateGrandTotal(){\n\t\tlet grandTotal = 0;\n\t\tthis.selected_item_maps.get(this.selected_tab.tabName).forEach((value,key) =>{\n\t\t\tgrandTotal += value.quantity * value.amount\n\t\t})\n\n\t\tconst grandTotal_HTML = document.getElementById(\"grandTotalValue\");\n\t\tgrandTotal_HTML.textContent = grandTotal;\n\t}\n\n\tmakeItemHighlight(itemElement){\n\t\tconst selectedItemsContainer = document.getElementById(\"selectedItemsContainer\");\n\t\tconst selectedItems = selectedItemsContainer.querySelectorAll(\".selected\")\n\t\tselectedItems.forEach(selectedItem=>{\n\t\t\tselectedItem.classList.remove(\"selected\");\n\t\t})\n\t\titemElement.classList.add(\"selected\")\n\t}\n\n\tcleanHeighlight(){\n\t\tconst selectedItemsContainer = document.getElementById(\"selectedItemsContainer\");\n\t\tconst selectedItems = selectedItemsContainer.querySelectorAll(\".selected\")\n\t\tselectedItems.forEach(selectedItem=>{\n\t\t\tselectedItem.classList.remove(\"selected\");\n\t\t})\n\n\t}\n\n\n\n}\n", "\npos_ar.PointOfSale.pos_item_details = class{\n\n\tconstructor(\n\t\twrapper,\n\t\twarehouse,\n\t\tpriceLists,\n\t\titemPrices,\n\t\tbinList,\n\t\tselectedItem,\n\t\tselectedField,\n\t\tonInput,\n\t\tonClose,\n\t){\n\t\tconsole.log(\"hello from item_details 0\")\n\t\tthis.wrapper        = wrapper   ;\n\t\tthis.warehouse      = warehouse ;\n\t\tthis.price_lists    = priceLists;\n\t\tthis.item_prices    = itemPrices;\n\t\tthis.selected_item  = selectedItem ;\n\t\tthis.selected_field = selectedField;\n\t\tthis.on_input       = onInput;\n\t\tthis.on_close_cart  = onClose;\n\t\tthis.bin_list       = binList;\n\n\t\tconsole.log(\"start with : \" , warehouse)\n\n\t\tthis.start_the_work();\n\t}\n\n\n\t// start function\n\n\tstart_the_work(){\n\t\tthis.prepare_item_details_cart();\n\t\tthis.setDetailsFieldsListeners();\n\t}\n\n\n\t/****************************    ui functions   **********************************/\n\n        prepare_item_details_cart(){\n                this.wrapper.append('<div id=\"itemDetailsCart\" class=\"columnBox align_center\"><div>')\n\n                this.item_details_cart = this.wrapper.find(\"#itemDetailsCart\")\n                this.item_details_cart.append('<div id=\"itemDetailsCartHeader\" class=\"rowBox header align_center row_sbtw\"></div>')\n\n                this.cart_header = this.item_details_cart.find('#itemDetailsCartHeader')\n                this.cart_header.append('<h4 class=\"CartTitle\">Item Details</h4>')\n                this.cart_header.append('<img src=\"/assets/pos_ar/images/cancel.png\" alt=\"Cancel Button\" id=\"itemDetailsCartXBtn\" class=\"xBtn\">')\n\n                this.close_btn = this.cart_header.find(\"#itemDetailsCartXBtn\").on(\"click\", (event) =>{\n                        this.on_close_cart();\n                })\n\n\t\tthis.item_details_cart.append('<div id=\"itemDetailsHeader\" class=\"rowBox\"></div>')\n\n\t\tthis.header_details = this.item_details_cart.find('#itemDetailsHeader')\n\t\tthis.header_details.append('<div id=\"detailsItemImage\" class=\"rowBox centerItem\"></div>')\n\t\tthis.header_details.append('<div id=\"price_and_name\" class=\"columnBox\"></div>')\n\n\t\tthis.price_and_name_details = this.header_details.find('#price_and_name')\n\t\tthis.price_and_name_details.append('<div id=\"detailsItemName\" class=\"rowBox align_center\"></div>')\n\t\tthis.price_and_name_details.append('<div id=\"detailsItemGroupWarhouseContainer\" class=\"rowBox align_center row_sa\"></divr>')\n\n\t\tthis.item_group_warehouse_details = this.price_and_name_details.find('#detailsItemGroupWarhouseContainer')\n\t\tthis.item_group_warehouse_details.append('<div id=\"detailsItemGroup\" class=\"rowBox align_center\">Group : ...</div>')\n\t\tthis.item_group_warehouse_details.append('<div id=\"detailsItemWarehouse\" class=\"rowBox align_center\">Warehouse : ...</div>')\n\n\t\tthis.item_details_cart.append('<div id=\"itemDetailsAll\"  class=\"rowBox\"></div>')\n\n\t\tthis.details_all = this.item_details_cart.find('#itemDetailsAll')\n\t\tthis.details_all.append('<div id=\"itemDetails_C1\" class=\"columnBox\"></div>')\n\n\t\tthis.c1 = this.details_all.find('#itemDetails_C1')\n\t\tthis.c1.append('<div class=\"columnBox\"><label for=\"itemDetailsQuantityInput\">Quantity</label><input type=\"float\" id=\"itemDetailsQuantityInput\" class=\"pointerCursor\"></div>')\n\t\tthis.c1.append('<div class=\"columnBox\"><label for=\"itemDetailsRateInput\">Rate</label><input type=\"float\" id=\"itemDetailsRateInput\" class=\"pointerCursor\"></div>')\n\t\tthis.c1.append('<div class=\"columnBox\"><label for=\"itemDetailsDiscountInput\">Discount (%)</label><input type=\"float\" id=\"itemDetailsDiscountInput\" class=\"pointerCursor\"></div>')\n\t\tthis.c1.append('<div class=\"columnBox\"><label for=\"itemDetailsAvailableInput\">Available Qty at Warehouse</label><input type=\"float\" id=\"itemDetailsAvailableInput\" disabled></div>')\n\n\n\t\tthis.details_all.append('<div id=\"itemDetails_C2\" class=\"columnBox\"></div>')\n\n\t\tthis.c2 = this.details_all.find('#itemDetails_C2')\n\t\tthis.c2.append('<div class=\"columnBox\"><label for=\"itemDetailsUomInput\">UOM *</label><input type=\"text\" id=\"itemDetailsUomInput\"  disabled></div>')\n\t\tthis.c2.append('<div class=\"columnBox\"><label for=\"detailsPriceList\">Price List *</label><input list=\"detailsPriceList\" id=\"detailsItemPriceListInput\" class =\"rowBox align_center pointerCursor\"><datalist id=\"detailsPriceList\"><option>fetching Price Lists ...</option></datalist></div>')\n\t\tthis.c2.append('<div class=\"columnBox\"><label for=\"itemDetailsPriceListRateInput\">Price List Rate</label><input type=\"text\" id=\"itemDetailsPriceListRateInput\" disabled></div>')\n\n\n\n\t}\n\n\trefreshDate(item){\n\n\t\tconsole.log(\"start ref\")\n\t\tconst imageContainer    = document.getElementById(\"detailsItemImage\") ;\n\t\tconst name  = document.getElementById(\"detailsItemName\");\n\t\tconst warehouse     = document.getElementById(\"detailsItemWarehouse\");\n\t\tconst itemGroup     = document.getElementById(\"detailsItemGroup\");\n\n\t\tconst quantity  = document.getElementById(\"itemDetailsQuantityInput\");\n\t\tconst rate      = document.getElementById(\"itemDetailsRateInput\");\n\t\tconst discount  = document.getElementById(\"itemDetailsDiscountInput\");\n\t\tconst available = document.getElementById(\"itemDetailsAvailableInput\");\n\n\t\tconst uom           = document.getElementById(\"itemDetailsUomInput\");\n\t\tconst priceList     = document.getElementById(\"detailsItemPriceListInput\");\n\t\tconst priceListRate = document.getElementById(\"itemDetailsPriceListRateInput\");\n\n\t\t//populate\n\t\tif(item.image){\n\t\t\tconst image = document.createElement(\"img\");\n\t\t\timage.src = item.image;\n\t\t\timageContainer.innerHTML = \"\";\n\t\t\timageContainer.appendChild(image);\n\t\t}\n\t\telse{\n\t\t\tconst image = document.createElement(\"div\");\n\t\t\timage.textContent = item.item_name[0];\n\t\t\timage.style.fontSize = \"xx-large\";\n\t\t\timage.style.fontWeight = \"700\";\n\t\t\timageContainer.innerHTML = \"\";\n\t\t\timageContainer.appendChild(image);\n\t\t}\n\n\t\t//name\n\t\tname.textContent  = item.item_name;\n\t\tname.classList.add(\"rowBox\" , \"align_center\");\n\n\n\t\t//quantity\n\t\tquantity.value = item.quantity\n\n\t\t//rate\n\t\trate.value = item.amount\n\n\t\t//discount\n\t\tdiscount.value = 0.00\n\n\t\t//available\n\t\tavailable.value = this.getQtyInWarehouse(item.name ,  this.warehouse)\n\n\n\t\t//uom\n\t\tuom.value = item.stock_uom\n\n\n\t\t//priceList\n\t\tpriceList.value = this.price_lists[0].price_list_name\n\t\t//warehouse\n\t\twarehouse.textContent = \"Warehouse : \" + this.warehouse\n\t\t//item group\n\t\titemGroup.textContent = \"Item Group : \" + item.item_group\n\n\t\t//priceListRate\n\t\tpriceListRate.value = this.getItemPrice(item.name) + \"DA\"\n\n\n\t\tconsole.log(\"end ref\")\n\n\n\t\t//hightlited fields\n\t\tthis.makeSelectedFieldHighlighted()\n\t\t//listeners\n\t\t//setItemDetailsFieldsListener()\n\t}\n\n\tshow_cart(){\n\t\tconsole.log('show 02')\n\t\tthis.item_details_cart.css(\"display\" , \"flex\");\n\t}\n\n\thide_cart(){\n\t\tconsole.log('hide 001')\n\t\tthis.item_details_cart.css(\"display\" , \"none\");\n\t}\n\n\tmakeSelectedFieldHighlighted(){\n\n\n\t\tif(this.selected_field.field_name == \"quantity\"){\n\t\t\tthis.c1.find('#itemDetailsQuantityInput').addClass('selected')\n\t\t\tthis.c1.find('#itemDetailsRateInput').removeClass('selected')\n\t\t\tthis.c1.find('#itemDetailsDiscountInput').removeClass('selected')\n\t\t}\n\t\telse if(this.selected_field.field_name == \"rate\"){\n\t\t\tthis.c1.find('#itemDetailsQuantityInput').removeClass('selected')\n\t\t\tthis.c1.find('#itemDetailsRateInput').addClass('selected')\n\t\t\tthis.c1.find('#itemDetailsDiscountInput').removeClass('selected')\n\t\t}\n\t\telse if(this.selected_field.field_name == \"discount\"){\n\t\t\tthis.c1.find('#itemDetailsQuantityInput').removeClass('selected')\n\t\t\tthis.c1.find('#itemDetailsRateInput').removeClass('selected')\n\t\t\tthis.c1.find('#itemDetailsDiscountInput').addClass('selected')\n\t\t}\n\t\telse{\n\t\t\tthis.c1.find('#itemDetailsQuantityInput').removeClass('selected')\n\t\t\tthis.c1.find('#itemDetailsRateInput').removeClass('selected')\n\t\t\tthis.c1.find('#itemDetailsDiscountInput').removeClass('selected')\n\t\t}\n\n\t}\n\n\n\trequestFocus(field){\n\t\tif(field == \"quantity\"){\n\t\t\tthis.c1.find('#itemDetailsQuantityInput').focus();\n\t\t}\n\t\telse if(field == \"rate\"){\n\t\t\tthis.c1.find('#itemDetailsRateInput').focus();\n\t\t}\n\t\telse if(field == \"discount\"){\n\t\t\tthis.c1.find('#itemDetailsDiscountInput').focus();\n\t\t}\n\t}\n\n\n/*\n\nelse if(keyContent == \".\" && !selectedField.value.includes(\".\")){\n                                        this.on_key_pressed( \"addToField\" , key.text())\n                                }\n\n*/\n\taddToField(field , value){\n\n\t\tconsole.log('field : ' , field , 'value : ' , value )\n\t\t\t\n\t\tif(field == \"quantity\"){\n\t\t\tthis.c1.find('#itemDetailsQuantityInput').val( (index,currentValue) =>{\n\t\t\t\tif(value == \".\" && currentValue.includes(\".\"))\n\t\t\t\t\treturn currentValue\n\t\t\t\telse\n\t\t\t\t\treturn currentValue + value\n\t\t\t})\n\t\t}\n\t\telse if(field == \"rate\"){\n\t\t\tthis.c1.find('#itemDetailsRateInput').val( (index,currentValue) =>{\n\t\t\t\tif(value == \".\" && currentValue.includes(\".\"))\n\t\t\t\t\treturn currentValue\n\t\t\t\telse\n\t\t\t\t\treturn currentValue + value\n\t\t\t})\n\t\t}\n\t\telse if(field == \"discount\"){\n\t\t\tthis.c1.find('#itemDetailsDiscountInput').val( (index,currentValue) =>{\n\t\t\t\tif(value == \".\" && currentValue.includes(\".\"))\n\t\t\t\t\treturn currentValue\n\t\t\t\telse\n\t\t\t\t\treturn currentValue + value\n\t\t\t})\n\n\t\t}\n\n\t}\n\n\t/**************************  set listener  ****************************/\n\n\tsetDetailsFieldsListeners(){\n\n\t\tthis.quantityInput = this.c1.find('#itemDetailsQuantityInput')\n\t\tthis.rateInput     = this.c1.find('#itemDetailsRateInput')\n\t\tthis.discountInput = this.c1.find('#itemDetailsDiscountInput')\n\n\n\t\t//quantity input\n\t\tthis.quantityInput.on('input' , (event)=>{\n\t\t\tconst value = event.target.value;\n\n\t\t\tif(value.length == 0){\n\t\t\t\tevent.target.value = 0\n\t\t\t}\n\t\t\telse if (!value.slice(0,-1).includes(\".\")  && value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \" \"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(isNaN(value[value.length-1])){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\n\t\t\t//new quantity\n\t\t\tlet newQuantity = parseFloat(this.quantityInput.val());\n\t\t\tif(isNaN(newQuantity)){\n\t\t\t\tconsole.warn(\"Invaide Quantity value =>\" , this.quantityInput.val())\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if(newQuantity <= 0){\n\t\t\t\tnewQuantity = 0;\n\t\t\t}\n\n\t\t\tthis.on_input( \"input\" , \"quantity\" , newQuantity)\n\t\t})\n\n\t\tthis.quantityInput.on('focus' , (event)=>{\n\t\t\tthis.on_input( \"focus\" , \"quantity\" , null)\n\t\t})\n\n\t\tthis.quantityInput.on('blur' , (event)=>{\n\t\t\tthis.on_input( \"blur\" , \"quantity\" , null)\n\t\t})\n\n\t\t//rate field listeners\n\t\tthis.rateInput.on('input' , (event)=>{\n\t\t\tconst value = event.target.value ;\n\n\t\t\tif(value.length == 0){\n\t\t\t\tevent.target.value = 0\n\t\t\t}\n\t\t\telse if (!value.slice(0,-1).includes(\".\")  && value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(isNaN(value[value.length-1])){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tevent.target.value = value;\n\t\t\t}\n\n\t\t\tlet newRate = parseFloat(this.rateInput.val());\n\n\t\t\tconsole.log(\"new rate : \" , newRate)\n\t\t\tif(isNaN(newRate)){\n\t\t\t\tconsole.warn(\"Invalide Rate value\")\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tthis.on_input( \"input\" , \"rate\" , newRate)\n\t\t})\n\t\tthis.rateInput.on('focus' , (event)=>{\n\t\t\tthis.on_input( \"focus\" , \"rate\" , null)\n\t\t})\n\t\tthis.rateInput.on('blur' , (event)=>{\n\t\t\tthis.on_input( \"blur\" , \"rate\" , null)\n\t\t})\n\n\n\t\t//discount field listener\n\t\tthis.discountInput.on('input' , (event)=>{\n\t\t\tconst value = event.target.value ;\n\n\t\t\tif(value.length == 0){\n\t\t\t\tevent.target.value = 0;\n\t\t\t}\n\t\t\telse if(!value.slice(0,-1).includes(\".\")  && value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value;\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(isNaN(value[value.length-1])){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tevent.target.value = value ;\n\t\t\t}\n\n\t\t\tlet newDiscount = parseFloat(this.discountInput.val());\n\n\t\t\tif(isNaN(newDiscount)){\n\t\t\t\tconsole.warn(\"Invalide discount value\")\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif(newDiscount < 100)\n\t\t\t\tthis.on_input( \"input\" , \"discount\" , newDiscount)\n\t\t\telse\n\t\t\t\tthis.on_input( \"input\" , \"discount\" , 100)\n\n\n\t\t})\n\n\t\tthis.discountInput.on('focus' , (event)=>{\n\t\t\tthis.on_input( \"focus\" , \"discount\" , null)\n\t\t})\n\n\t\tthis.discountInput.on('blur' , (event)=>{\n\t\t\tthis.on_input( \"blur\" , \"discount\" , null)\n\t\t})\n\n\t}\n\n\n\t/*************************** funs  ************************************/\n\n\tgetItemPrice(itemId){\n\t\tconst price = this.item_prices.find(itemPrice => itemPrice.item_code == itemId)\n\t\treturn price ? price.price_list_rate  : 0\n\t}\n\n\n\tgetQtyInWarehouse(itemId , warehouseId){\n\t\tconst bin = this.bin_list.find(bin => bin.item_code == itemId && bin.warehouse == warehouseId)\n\t\treturn bin ? bin.actual_qty : 0\n\t}\n\n\n}\n", "\n\npos_ar.PointOfSale.pos_payment_cart = class{\n\n\tconstructor(\n\t\twrapper,\n\t\tselectedItemMap,\n\t\tselectedTab,\n\t\tselectedPaymentMythod,\n\t\tonClose,\n\t\tonComplete\n\t){\n\t\tthis.wrapper                 = wrapper;\n\t\tthis.selected_item_map       = selectedItemMap;\n\t\tthis.selected_tab            = selectedTab;\n\t\tthis.selected_payment_method = selectedPaymentMythod;\n\t\tthis.on_close_cart           = onClose;\n\t\tthis.on_complete             = onComplete;\n\n\t\t//local\n\t\tthis.grand_total = 0 ;\n\t\tthis.paid_amount = 0 ;\n\t\tthis.to_change   = 0 ;\n\n\t\tthis.start_work();\n\t}\n\n\n\t/****************************************  UI ***********************************************/\n\n\tstart_work(){\n\n\t\tthis.prepare_payment_cart();\n\t\tthis.calculateGrandTotal()\n\t\tthis.setListeners()\n\t}\n\n\tprepare_payment_cart(){\n\t\tthis.wrapper.append('<div id=\"paymentMethodCart\" class=\"columnBox align_center\"></div>')\n\n\t\tthis.cart = this.wrapper.find('#paymentMethodCart')\n\t\tthis.cart.append('<div id=\"paymentMethodCartHeader\" class=\"rowBox header align_center row_sbtw\"></div>')\n\t\tthis.cart.append('<div id=\"paymentMethodContent\" class=\"columnBox align_center\"></div>')\n\t\tthis.cart.append('<div id=\"paymentMethodCartFooter\" class=\"columnBox align_center\"></div>')\n\n\t\tthis.cart_header  = this.cart.find('#paymentMethodCartHeader')\n\t\tthis.cart_content = this.cart.find('#paymentMethodContent')\n\t\tthis.cart_footer  = this.cart.find('#paymentMethodCartFooter')\n\n\t\tthis.cart_header.append('<h4 class=\"CartTitle\">Item Details</h4>')\n\t\tthis.cart_header.append('<img src=\"/assets/pos_ar/images/cancel.png\" alt=\"Cancel Button\" id=\"paymentMethodCartXBtn\" class=\"xBtn\">')\n\n\t\tthis.cart_header.find('#paymentMethodCartXBtn').on('click' , (event)=>{\n\t\t\tthis.on_close_cart();\n\t\t})\n\n\t\tthis.cart_content.append('<div id=\"paymentContentTopSection\" class=\"rowBox\"></div>')\n\t\tthis.cart_content.append('<div id=\"paymentContentBottomSection\" class=\"columnBox\"></div>')\n\n\t\tthis.cart_content_top_section    = this.cart_content.find('#paymentContentTopSection')\n\t\tthis.cart_content_bottom_section = this.cart_content.find('#paymentContentBottomSection')\n\n\t\tthis.cart_content_top_section.append('<div id=\"cashBox\" class=\"paymentMethodBox\"><div id=\"cashBoxTitle\" class=\"title\">Cash</div><input type=\"float\" id=\"cachInput\" value=\"0\"  ></div>')\n\t\tthis.cart_content_top_section.append('<div id=\"paymentOnTimeBox\" class=\"paymentMethodBox\"><div id=\"paymentOnTimeBoxTitle\" class=\"title\">On Time</div><input type=\"float\" id=\"paymentOnTimeInput\" value=\"0\" ></div>')\n\t\tthis.cart_content_top_section.append('<div id=\"redeemLoyaltyPoints\" class=\"paymentMethodBox\"><div id=\"redeemLoyaltyPointsTitle\" class=\"title\">Redeem Loyalty Points</div><input type=\"float\" id=\"RedeemLayoutPointsInput\" value=\"0\" disabled></div>')\n\n\t\tthis.cashBox          = this.cart_content_top_section.find(\"#cashBox\")\n\t\tthis.onTimeBox        = this.cart_content_top_section.find(\"#paymentOnTimeBox\")\n\t\tthis.redeemLoyaltyBox = this.cart_content_top_section.find(\"#redeemLoyaltyPoints\")\n\n\t\tthis.cart_content_bottom_section.append('<h4>Additional Information</h4>')\n\n\t\tthis.cart_footer.append('<div id=\"paymentDetailsContainer\" class=\"rowBox align_center\"></div>');\n\t\tthis.cart_footer.append('<button type=\"button\" id=\"completeOrderBtn\">Complete Order</button>');\n\n\t\tthis.payment_details = this.cart_footer.find('#paymentDetailsContainer')\n\t\tthis.payment_details.append('<div class=\"columnBox\"><div id=\"paymentGrandTotalTitle\" class=\"rowBox centerItem\">Grand Total</div><div id=\"paymentGrandTotalValue\" class=\"rowBox centerItem\"></div></div>')\n\t\tthis.payment_details.append('<hr>')\n\t\tthis.payment_details.append(`<div id=\"paymentPaidAmount\" class=\"columnBox\"><div id=\"paymentPaidAmountTitle\" class=\"rowBox centerItem\">Paid Amount</div><div id=\"paimentPaidAmountValue\"  class=\"rowBox centerItem\"> 0 DA </div></div>`)\n\t\tthis.payment_details.append('<hr>')\n\t\tthis.payment_details.append(`<div id=\"paymentToChange\" class=\"columnBox\"><div id=\"paimentToChangeTitle\" class=\"rowBox centerItem\">To Change</div><div id=\"paimentToChangeValue\"  class=\"rowBox centerItem\"> ${this.to_change}DA </div></div>`)\n\n\t}\n\n\n\tshowCart(){\n\t\tconsole.log('show payment cart')\n\t\tthis.cart.css('display' , 'flex');\n\t}\n\n\thideCart(){\n\t\tthis.cart.css('display' , 'none');\n\t}\n\n\n\n\t/****************************************  listeners  ***********************************************/\n\n\tsetListeners(){\n\n\t\tthis.cashBox.on('click' , (event)=>{\n\t\t\tthis.selected_payment_method.methodName = \"cash\"\n\t\t\tthis.cashBox.addClass('selected')\n\t\t\tthis.onTimeBox.removeClass('selected')\n\t\t\tthis.redeemLoyaltyBox.removeClass('selected')\n\n\t\t\t//refresh UI\n\t\t\tthis.paid_amount = this.cashBox.find('#cachInput').val()\n\t\t\tthis.refreshPaidAmount();\n\t\t})\n\n\t\tthis.onTimeBox.on('click' , (event)=>{\n\t\t\tthis.selected_payment_method.methodName = \"onTime\"\n\t\t\tthis.cashBox.removeClass('selected')\n\t\t\tthis.onTimeBox.addClass('selected')\n\t\t\tthis.redeemLoyaltyBox.removeClass('selected')\n\n\t\t\t//refresh UI\n\t\t\tthis.paid_amount = this.onTimeBox.find('#paymentOnTimeInput').val()\n\t\t\tthis.refreshPaidAmount();\n\n\t\t})\n\n\t\tthis.redeemLoyaltyBox.on('click' , (event)=>{\n\t\t\tthis.selected_payment_method.methodName = \"redeemLoyalty\"\n\t\t\tthis.cashBox.removeClass('selected')\n\t\t\tthis.onTimeBox.removeClass('selected')\n\t\t\tthis.redeemLoyaltyBox.addClass('selected')\n\n\t\t\t//refresh UI\n\t\t\tthis.paid_amount = 0;\n\t\t\tthis.refreshPaidAmount();\n\n\t\t})\n\n\t\t//inputs\n\t\tthis.cashBox.find('#cachInput').on('input' , (event)=>{\n\t\t\tconst value = event.target.value;\n\t\t\tif(value.length == 0){\n\t\t\t\tevent.target.value = 0\n\t\t\t}\n\t\t\telse if (!value.slice(0,-1).includes(\".\")  && value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \" \"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(isNaN(value[value.length-1])){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\n\t\t\tthis.paid_amount = event.target.value;\n\t\t\tthis.refreshPaidAmount();\n\t\t\tthis.calculateToChange();\n\t\t\tconsole.log(\"input\" , event.target.value)\n\t\t})\n\n\t\tthis.onTimeBox.find('#paymentOnTimeInput').on('input' , (event)=>{\n\t\t\tconst value = event.target.value;\n\t\t\tif(value.length == 0){\n\t\t\t\tevent.target.value = 0\n\t\t\t}\n\t\t\telse if (!value.slice(0,-1).includes(\".\")  && value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \" \"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(isNaN(value[value.length-1])){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\n\t\t\tthis.paid_amount = event.target.value;\n\t\t\tthis.refreshPaidAmount();\n\t\t\tthis.calculateToChange();\n\t\t\tconsole.log(\"input\" , event.target.value)\n\t\t})\n\n\t\tthis.redeemLoyaltyBox.find('#RedeemLayoutPointsInput').on('input' , (event)=>{\n\t\t\tconst value = event.target.value;\n\t\t\tif(value.length == 0){\n\t\t\t\tevent.target.value = 0\n\t\t\t}\n\t\t\telse if (!value.slice(0,-1).includes(\".\")  && value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \".\"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(value[value.length-1] == \" \"){\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse if(isNaN(value[value.length-1])){\n\t\t\t\tconsole.log(\"===}> \" , value[value.length-1])\n\t\t\t\tevent.target.value = value.slice(0,-1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tevent.target.value = value\n\t\t\t}\n\t\t\tconsole.log(\"input\" , event.target.value)\n\t\t})\n\n\t\tthis.cart_footer.find(\"#completeOrderBtn\").on('click' , (event)=>{\n\t\t\tconsole.log(\"grand total ==> \" , this.grand_total , \"the paid amount ==> \" , this.paid_amount)\n\t\t\tif(this.grand_total > this.paid_amount){\n\t\t\t\tfrappe.warn(\n\t\t\t\t\t'Paid amount is less than the Total!',\n\t\t\t\t\t'Please set the correct paid amount value',\n\t\t\t\t\t()=>{\n\t\t\t\t\t},\n\t\t\t\t\t'Done',\n\t\t\t\t\ttrue\n\t\t\t\t)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfrappe.confirm('Submit the invoice ?',\n\t\t\t()=>{/*yes*/\n\t\t\t\tthis.on_complete()\n\t\t\t},()=>{\n\t\t\t\t\n\t\t\t})\n\t\t})\n\n\n\t}\n\n\n\tcalculateGrandTotal(){\n\n\t\tthis.grand_total = 0 ;\n\n\t\tthis.selected_item_map.get(this.selected_tab.tabName).forEach((value,key)=>{\n\t\t\tthis.grand_total += value.quantity * value.amount\n\t\t})\n\n\t\tthis.payment_details.find('#paymentGrandTotalValue').text(`${this.grand_total} DA`)\n\t}\n\n\tcalculateToChange(){\n\t\tthis.to_change = (this.paid_amount - this.grand_total)\n\t\tconsole.log(\"paid  \" ,this.paid_amount , \" - \" , this.grand_total , \" = \"  ,   this.to_change)\n\t\tthis.payment_details.find('#paimentToChangeValue').text(`${this.to_change} DA`)\n\t}\n\n\trefreshPaidAmount(){\n\t\tthis.payment_details.find('#paimentPaidAmountValue').text(`${this.paid_amount} DA`)\n\t}\n\n}\n", "pos_ar.PointOfSale.Sw = class {\n\n\tconstructor(){\n\t\tconsole.log(`Im SW I'm heeeeeeeeeeeeeeeeeeeere path: ${window.location.pathname}`);\n\t}\n\n}\n"],
  "mappings": "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",
  "names": ["event", "event", "event", "event", "event", "bin", "event"]
}
